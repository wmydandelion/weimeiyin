<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
		#stage{
			margin: 80px auto;
			width: 600px;
			height: 400px;
			-webkit-perspective: 800;
		}	
		#rotate{
			margin: 0 auto;
			width: 600px;
			height: 400px;
			-webkit-transform-style:preserve-3d;
			-webkit-animation-name:x-spin;
			-webkit-animation-duration: 7s;
			-webkit-animation-iteration-count: 5;
			-webkit-animation-timing-function: linear;		
		}
		.ring{
			margin: 0 auto;
			width: 600px;
			height: 110px;
			-webkit-transform-style:preserve-3d;
			-webkit-animation-iteration-count: infinite;
			-webkit-animation-timing-function: linear;	
		}
		.ring > :nth-child(odd){
			background-color: #FF93C9;
		}
		.ring > :nth-child(even){
			background-color: #9B9BFF;
		}
		#ring-1{
			-webkit-animation-name:y-spin;
			-webkit-animation-duration: 5s;
		}
		#ring-2{
			-webkit-animation-name:back-y-spin;
			-webkit-animation-duration: 4s;
		}
		#ring-3{
			-webkit-animation-name:y-spin;
			-webkit-animation-duration: 3s;
		}
		@-webkit-keyframes x-spin{
			0%{-webkit-transform: rotateX(0deg);}
			50%{-webkit-transform: rotateX(180deg);}
			100%{-webkit-transform: rotateX(360deg);}
		}
		@-webkit-keyframes y-spin{
			0%{-webkit-transform: rotateY(0deg);}
			50%{-webkit-transform: rotateY(180deg);}
			100%{-webkit-transform: rotateY(360deg);}
		}
		@-webkit-keyframes back-y-spin{
			0%{-webkit-transform: rotateY(360deg);}
			50%{-webkit-transform: rotateY(180deg);}
			100%{-webkit-transform: rotateY(0deg);}
		}
	   	/*.poster{
	   		margin: 0 auto;
			width: 200px;
			height: 200px;
			-webkit-transform-style:preserve-3d;
			
	   	}*/
		</style>
	</head>
	<body>
		<div id="stage">
			<div id="rotate">
				<div id="ring-1" class="ring"></div>
				<div id="ring-2" class="ring"></div>
				<div id="ring-3" class="ring"></div>
			</div>
		</div>
		<script>
			const POSTERS_PER_ROW = 12;
			const RING_RADIUS = 200;
			function setup_posters(row){
				var posterAngle = 360 / POSTERS_PER_ROW;
				for(var i=0;i< POSTERS_PER_ROW;i++){
					var poster = document.createElement('div');
				    poster.className = 'poster';
				    var transform = 'rotateY('+(posterAngle*i)+'deg)translateZ('+RING_RADIUS+'px';
				    poster.style.webkitTransform = transform;
				    var content = poster.appendChild(document.createElement('p'));
				    content.textContent = i;
				    row.appendChild(poster);
				}	
			}
			window.onload = function(){
				setup_posters(document.getElementById('ring-1'));
				setup_posters(document.getElementById('ring-2'));
				setup_posters(document.getElementById('ring-3'));
			}
		</script>
	</body>
</html>
