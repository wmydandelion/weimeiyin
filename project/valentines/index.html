<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>七夕主题</title>
    <link rel='stylesheet' href='http://img.mukewang.com/down/55c16d94000109f300000000.css' />
    <link rel='stylesheet' href='http://img.mukewang.com/down/55c16dab0001286100000000.css' />
    <link rel='stylesheet' href='http://img.mukewang.com/down/55c16dc00001fa1a00000000.css' />
    <link rel='stylesheet' href='http://img.mukewang.com/down/55c16dda0001113100000000.css' />
    <script type="text/javascript" src="http://img.mukewang.com/down/55ac9a860001a6c500000000.js"></script>
    <script type="text/javascript" src="http://img.mukewang.com/down/55ac9ea30001ace700000000.js"></script>
    <script type="text/javascript" src="http://img.mukewang.com/down/55c16c910001e21b00000000.js"></script>

    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>慕课七夕主题</title>
    <link rel='stylesheet' href='css/style.css' />
    <link rel='stylesheet' href='css/pageA.css' />
    <link rel='stylesheet' href='css/pageB.css' />
    <link rel='stylesheet' href='css/pageC.css' />
    <script src="http://libs.baidu.com/jquery/1.9.1/jquery.js"></script>
    <script type="text/javascript" src="js/Swipe.js"></script>
</head>
<style type="text/css">
    .charector {
        width: 151px;
        height: 291px;
        left: 6%;
        top: 55%;
        position: absolute;
        background: url(http://img.mukewang.com/55ade248000198ae10550582.png) -0px -291px no-repeat;
    }
</style>

<body>
<div id='content'>
    <ul class='content-wrap'>
        <!-- 第一副画面 -->
        <li>
            <!-- 背景图 -->
            <div class="a_background">
                <div class="a_background_top"></div>
                <div class="a_background_middle"></div>
                <div class="a_background_botton"></div>
            </div>
            <!-- 云 -->
            <div class="cloudArea">
                <div class="cloud cloud1"></div>
                <div class="cloud cloud2"></div>
            </div>
            <!-- 太阳 -->
            <div id="sun"></div>
        </li>
        <!-- 第二副画面 -->
        <li>
            <!-- 背景图 -->
            <div class="b_background"></div>
            <div class="b_background_preload"></div>
            <!-- 商店 -->
            <div class="shop">
                <div class="door">
                    <div class="door-left"></div>
                    <div class="door-right"></div>
                </div>
                <!-- 灯 -->
                <div class="lamp"></div>
            </div>
            <!-- 鸟 -->
            <div class="bird"></div>
        </li>
        <!-- 第三副画面 -->
        <li>
            <!-- 背景图 -->
            <div class="c_background">
                <div class="c_background_top"></div>
                <div class="c_background_middle"></div>
                <div class="c_background_botton"></div>
            </div>
            <!-- 小女孩 -->
            <div class="girl"></div>
            <div class="bridge-bottom">
                <div class="water">
                    <div id="water1" class="water_1"></div>
                    <div id="water2" class="water_2"></div>
                    <div id="water3" class="water_3"></div>
                    <div id="water4" class="water_4"></div>
                </div>
            </div>
            <!-- 星星 -->
            <ul class="stars">
                <li class="stars1"></li>
                <li class="stars2"></li>
                <li class="stars3"></li>
                <li class="stars4"></li>
                <li class="stars5"></li>
                <li class="stars6"></li>
            </ul>
            <!-- 慕课网logo图 -->
            <div class="logo"></div>
        </li>
    </ul>
    <!-- 雪花 -->
    <div id="snowflake"></div>
    <!-- 小男孩 -->
    <div id="boy" class="charector"></div>
</div>
</body>
<script type="text/javascript">
    var swipe = Swipe($("#content"));

    var $boy = $("#boy");

    // 设置一下缩放比例与基点位置
    var proportion =  $(document).width() / 1440;
    // 设置元素缩放
    $boy.css({
        transform: 'scale(' + proportion + ')'
    });

    // 获取数据
    var getValue = function(className) {
        var $elem = $('' + className + '');
        // 走路的路线坐标
        return {
            height: $elem.height(),
            top: $elem.position().top
        };
    }

    // 路的中间到顶部的距离
    var pathY = function() {
        var data = getValue('.a_background_middle');
        return data.top + data.height / 2;
    }();

    // 获取人物元素布局尺寸
    var boyHeight = $boy.height();
    var boyWidth = $boy.width();
    // 计算下缩放后的元素与实际尺寸的一个距离
    var boyInsideLeft = (boyWidth - (boyWidth*proportion))/2;
    var boyInsideTop = (boyHeight - (boyHeight*proportion))/2;

    // 修正小男孩的正确位置
    // 中间路的垂直距离 - 人物原始的垂直距离 - 人物缩放后的垂直距离
    $boy.css({
        top: pathY - (boyHeight * proportion) - boyInsideTop
    });
</script>
<script type="text/javascript" src="js/Swipe.js"></script>
<script type="text/javascript" src="js/Qixi.js"></script>
<script src="js/BoyWalk.js"></script>
</html>